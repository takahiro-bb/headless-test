import { e as createComponent, r as renderTemplate, k as renderComponent, m as maybeRenderHead } from '../chunks/astro/server_B4R6OevK.mjs';
import 'piccolore';
import { $ as $$Layout } from '../chunks/Layout_7yIXDLJ0.mjs';
/* empty css                                   */
export { renderers } from '../renderers.mjs';

var __freeze = Object.freeze;
var __defProp = Object.defineProperty;
var __template = (cooked, raw) => __freeze(__defProp(cooked, "raw", { value: __freeze(raw || cooked.slice()) }));
var _a;
const $$Contact = createComponent(async ($$result, $$props, $$slots) => {
  return renderTemplate(_a || (_a = __template(["", " <script>\n  const form = document.getElementById('js-form');\n  const successMsg = document.getElementById('js-success');\n  const errorMsg = document.getElementById('js-error');\n\n  form.addEventListener('submit', async (e) => {\n    e.preventDefault();\n    \n    // \u9001\u4FE1\u30DC\u30BF\u30F3\u3092\u7121\u52B9\u5316\uFF08\u4E8C\u91CD\u9001\u4FE1\u9632\u6B62\uFF09\n    const submitBtn = form.querySelector('button');\n    submitBtn.disabled = true;\n    submitBtn.textContent = '\u9001\u4FE1\u4E2D...';\n\n    const formData = new FormData(form);\n\n    // \u3010\u91CD\u8981\u3011\u30E6\u30CB\u30C3\u30C8\u30BF\u30B0\u306E\u8FFD\u52A0\n    // \u66F8\u5F0F: wpcf7-f[\u30D5\u30A9\u30FC\u30E0ID]-p[\u56FA\u5B9A\u30DA\u30FC\u30B8ID]-o1\n    // \u30D5\u30A9\u30FC\u30E0ID\u304C\u4E0D\u660E\u306A\u5834\u5408\u306F\u3072\u3068\u307E\u305A29\u3001\u30DA\u30FC\u30B8ID\u308229\u3067\u8A2D\u5B9A\n    formData.append('_wpcf7_unit_tag', 'wpcf7-f29-p36-o1'); \n\n    try {\n      // \u3053\u3053\u306EURL\u306E\u672B\u5C3E\u300C29\u300D\u3082\u5B9F\u969B\u306E\u30D5\u30A9\u30FC\u30E0ID\uFF08\u6570\u5B57\uFF09\u306B\u66F8\u304D\u63DB\u3048\u3066\u306D\uFF01\n      const url = 'https://xs688150.xsrv.jp/headless/wp-json/contact-form-7/v1/contact-forms/29/feedback';\n\n      const response = await fetch(url, {\n        method: 'POST',\n        body: formData,\n      });\n      \n      const result = await response.json();\n      \n      // \u9001\u4FE1\u6210\u529F\u5224\u5B9A\n      if (result.status === 'mail_sent') {\n        form.style.display = 'none';\n        successMsg.style.display = 'block';\n        errorMsg.style.display = 'none';\n      } else {\n        // \u30A8\u30E9\u30FC\u30E1\u30C3\u30BB\u30FC\u30B8\u304C\u3042\u308C\u3070\u8868\u793A\n        throw new Error(result.message || '\u9001\u4FE1\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002');\n      }\n    } catch (err) {\n      console.error('Error:', err);\n      errorMsg.style.display = 'block';\n      errorMsg.textContent = `\u30A8\u30E9\u30FC: ${err.message}`;\n    } finally {\n      // \u5931\u6557\u3057\u305F\u5834\u5408\u306E\u307F\u30DC\u30BF\u30F3\u3092\u5143\u306B\u623B\u3059\n      if (successMsg.style.display === 'none') {\n        submitBtn.disabled = false;\n        submitBtn.textContent = '\u9001\u4FE1\u3059\u308B';\n      }\n    }\n  });\n<\/script> "], ["", " <script>\n  const form = document.getElementById('js-form');\n  const successMsg = document.getElementById('js-success');\n  const errorMsg = document.getElementById('js-error');\n\n  form.addEventListener('submit', async (e) => {\n    e.preventDefault();\n    \n    // \u9001\u4FE1\u30DC\u30BF\u30F3\u3092\u7121\u52B9\u5316\uFF08\u4E8C\u91CD\u9001\u4FE1\u9632\u6B62\uFF09\n    const submitBtn = form.querySelector('button');\n    submitBtn.disabled = true;\n    submitBtn.textContent = '\u9001\u4FE1\u4E2D...';\n\n    const formData = new FormData(form);\n\n    // \u3010\u91CD\u8981\u3011\u30E6\u30CB\u30C3\u30C8\u30BF\u30B0\u306E\u8FFD\u52A0\n    // \u66F8\u5F0F: wpcf7-f[\u30D5\u30A9\u30FC\u30E0ID]-p[\u56FA\u5B9A\u30DA\u30FC\u30B8ID]-o1\n    // \u30D5\u30A9\u30FC\u30E0ID\u304C\u4E0D\u660E\u306A\u5834\u5408\u306F\u3072\u3068\u307E\u305A29\u3001\u30DA\u30FC\u30B8ID\u308229\u3067\u8A2D\u5B9A\n    formData.append('_wpcf7_unit_tag', 'wpcf7-f29-p36-o1'); \n\n    try {\n      // \u3053\u3053\u306EURL\u306E\u672B\u5C3E\u300C29\u300D\u3082\u5B9F\u969B\u306E\u30D5\u30A9\u30FC\u30E0ID\uFF08\u6570\u5B57\uFF09\u306B\u66F8\u304D\u63DB\u3048\u3066\u306D\uFF01\n      const url = 'https://xs688150.xsrv.jp/headless/wp-json/contact-form-7/v1/contact-forms/29/feedback';\n\n      const response = await fetch(url, {\n        method: 'POST',\n        body: formData,\n      });\n      \n      const result = await response.json();\n      \n      // \u9001\u4FE1\u6210\u529F\u5224\u5B9A\n      if (result.status === 'mail_sent') {\n        form.style.display = 'none';\n        successMsg.style.display = 'block';\n        errorMsg.style.display = 'none';\n      } else {\n        // \u30A8\u30E9\u30FC\u30E1\u30C3\u30BB\u30FC\u30B8\u304C\u3042\u308C\u3070\u8868\u793A\n        throw new Error(result.message || '\u9001\u4FE1\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002');\n      }\n    } catch (err) {\n      console.error('Error:', err);\n      errorMsg.style.display = 'block';\n      errorMsg.textContent = \\`\u30A8\u30E9\u30FC: \\${err.message}\\`;\n    } finally {\n      // \u5931\u6557\u3057\u305F\u5834\u5408\u306E\u307F\u30DC\u30BF\u30F3\u3092\u5143\u306B\u623B\u3059\n      if (successMsg.style.display === 'none') {\n        submitBtn.disabled = false;\n        submitBtn.textContent = '\u9001\u4FE1\u3059\u308B';\n      }\n    }\n  });\n<\/script> "])), renderComponent($$result, "Layout", $$Layout, { "title": "\u304A\u554F\u3044\u5408\u308F\u305B | My Headless Site", "data-astro-cid-uw5kdbxl": true }, { "default": async ($$result2) => renderTemplate` ${maybeRenderHead()}<main class="l-main" data-astro-cid-uw5kdbxl> <div class="p-contact" data-astro-cid-uw5kdbxl> <h1 class="p-contact__title" data-astro-cid-uw5kdbxl>Contact</h1>  <form id="js-form" class="p-form" data-astro-cid-uw5kdbxl> <div class="p-form__item" data-astro-cid-uw5kdbxl> <label for="your-name" data-astro-cid-uw5kdbxl>お名前</label> <input type="text" id="your-name" name="your-name" required data-astro-cid-uw5kdbxl> </div> <div class="p-form__item" data-astro-cid-uw5kdbxl> <label for="your-email" data-astro-cid-uw5kdbxl>メールアドレス</label> <input type="email" id="your-email" name="your-email" required data-astro-cid-uw5kdbxl> </div> <div class="p-form__item" data-astro-cid-uw5kdbxl> <label for="your-message" data-astro-cid-uw5kdbxl>メッセージ</label> <textarea id="your-message" name="your-message" rows="5" data-astro-cid-uw5kdbxl></textarea> </div> <button type="submit" class="c-btn-submit" data-astro-cid-uw5kdbxl>送信する</button> </form>  <div id="js-success" class="p-form-msg --success" style="display:none;" data-astro-cid-uw5kdbxl> <p data-astro-cid-uw5kdbxl>送信が完了しました。お問い合わせありがとうございます。</p> <a href="/" class="c-btn-back" data-astro-cid-uw5kdbxl>トップへ戻る</a> </div> <div id="js-error" class="p-form-msg --error" style="display:none;" data-astro-cid-uw5kdbxl>送信に失敗しました。</div> </div> </main> ` }));
}, "C:/Users/Mottram/my-headless-site/src/pages/contact.astro", void 0);

const $$file = "C:/Users/Mottram/my-headless-site/src/pages/contact.astro";
const $$url = "/contact";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$Contact,
  file: $$file,
  url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
